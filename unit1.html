<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <title>å°ç£åœ°ç†é—–é—œéŠæˆ² - æ‹–æ›³é¡Œç›®</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background-image: url("img/ans.png");
            background-size: cover;
        }

        .question-card {
            background-color: #fff;
            padding: 30px;
            margin: 50px auto;
            border-radius: 15px;
            max-width: 900px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        h2 {
            margin-top: 0;
        }

        .choices button {
            display: block;
            margin: 10px 0;
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 10px;
            border: none;
            background-color: #f5eddc;
            cursor: pointer;
            transition: all 0.2s;
        }

        .choices button:hover {
            background-color: #e6dcc6;
            transform: scale(1.05);
        }

        /* æ‹–æ›³é¡Œ */
        .drag-container,
        .drop-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }

        .draggable {
            width: 140px;
            margin: 10px 0;
            padding: 15px 30px;
            background-color: #f5eddc;
            font-size: 20px;
            border-radius: 10px;
            cursor: grab;
            user-select: none;
            box-shadow: inset 0 0 0 1px #e2d7bf;
        }


        .drop-zone {
            width: 140px;
            height: 60px;
            margin: 10px 0;
            border: 2px dashed #bfbfbf;
            border-radius: 10px;
            background-color: #fafafa;
            font-size: 20px;
            font-weight: bold;
            color: #555;
            display: flex;
            align-items: center;
            justify-content: center;
        }


        .drag-layout {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .drag-left {
            flex: 1;
        }

        .drag-right {
            width: 220px;
        }

        .map-img {
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 8px;
        }

        .hidden {
            display: none;
        }
    </style>
</head>

<body>

    <div id="question-container" class="question-card">
        <h2 id="question-number">å•é¡Œ 1 / 10</h2>
        <p id="question-text">å°ç£æ±éƒ¨å¤–æµ·æ˜¯ï¼Ÿ</p>

        <div id="choices" class="choices"></div>

        <div id="drag-question" class="hidden drag-layout">
            <!-- å·¦é‚Šï¼šæ‹–æ›³é¡Œ -->
            <div class="drag-left">
                <div id="drag-items"></div>
                <hr>
                <div id="drop-zones"></div>
            </div>

            <!-- å³é‚Šï¼šåœ°åœ–åœ–ç‰‡ -->
            <div class="drag-right">
                <img src="img/map.png" alt="å°ç£å‘¨é­æµ·åŸŸåœ–" class="map-img">
            </div>
        </div>
        <div id="hint" class="hint hidden"></div>

    </div>

    <script>
        const questions = [
            {
                type: 'choice',
                text: 'å°ç£æ±éƒ¨å¤–æµ·æ˜¯ï¼Ÿ',
                options: ['A. å°ç£æµ·å³½', 'B. å·´å£«æµ·å³½', 'C. å¤ªå¹³æ´‹', 'D. ä¸‰å³½'],
                answer: 'C',
                hint: 'å°ç£æ±é‚Šé¢å‘çš„æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„æµ·æ´‹ ğŸŒŠ'
            },
            {
                type: 'choice',
                text: 'é›¢é‡‘é–€æœ€è¿‘çš„åœ‹å®¶æ˜¯ä»¥ä¸‹å“ªä¸€å€‹ï¼Ÿ',
                options: ['A. æ—¥æœ¬', 'B. ä¸­åœ‹', 'C. éŸ“åœ‹', 'D. ç¾åœ‹'],
                answer: 'B',
                hint: 'é‡‘é–€è·é›¢å»ˆé–€éå¸¸è¿‘'
            },
            {
                type: 'choice',
                text: 'ä½æ–¼å°ç£èˆ‡ä¸­åœ‹ä¹‹é–“çš„æµ·å³½å«ä»€éº¼ï¼Ÿ',
                options: ['A. å°ç£æµ·å³½', 'B. éº»å…­ç”²æµ·å³½', 'C. å·´å£«æµ·å³½', 'D. æ±æµ·'],
                answer: 'A',
                hint: 'åç¨±å°±ç›´æ¥ç”¨ã€Œå°ç£ã€å‘½å'
            },
            {
                type: 'choice',
                text: 'å—æµ·ä¸­çš„å¤ªå¹³å³¶ç›®å‰ç”±å“ªä¸€å€‹åœ‹å®¶å¯¦éš›æ§åˆ¶ï¼Ÿ',
                options: ['A. è¶Šå—', 'B. è²å¾‹è³“', 'C. é¦¬ä¾†è¥¿äº', 'D. å°ç£'],
                answer: 'D',
                hint: 'ç›®å‰é§è»èˆ‡è¡Œæ”¿ç®¡ç†ä¾†è‡ªå°ç£'
            },
            {
                type: 'choice',
                text: 'ä¸‹åˆ—å“ªå€‹åœ‹å®¶èˆ‡å°ç£æ²’æœ‰ç›´æ¥é‡ç–Šçš„å°ˆå±¬ç¶“æ¿Ÿæµ·åŸŸä¸»æ¬Šçˆ­è­°ï¼Ÿ',
                options: ['A. éŸ“åœ‹', 'B. æ—¥æœ¬', 'C. ä¸­åœ‹', 'D. è²å¾‹è³“'],
                answer: 'A',
                hint: 'æƒ³æƒ³å“ªäº›åœ‹å®¶è·é›¢å°ç£æ¯”è¼ƒé '
            },
            {
                type: 'choice',
                text: 'å¾é«˜é›„æ­èˆ¹å¾€å—ï¼Œæœ€å¯èƒ½å…ˆæŠµé”å“ªå€‹åœ‹å®¶ï¼Ÿ',
                options: ['A. å°å°¼', 'B. æ³°åœ‹', 'C. è²å¾‹è³“', 'D. ç·¬ç”¸'],
                answer: 'C',
                hint: 'å°ç£æ­£å—æ–¹æœ€è¿‘çš„ç¾¤å³¶åœ‹å®¶'
            },
            {
                type: 'choice',
                text: 'å°ç£åŒ—æ–¹æœ€è¿‘çš„é„°åœ‹ç‚ºï¼Ÿ',
                options: ['A. æ—¥æœ¬', 'B. ä¿„ç¾…æ–¯', 'C. åŒ—éŸ“', 'D. åŠ æ‹¿å¤§'],
                answer: 'A',
                hint: 'æ²–ç¹©å°±åœ¨å°ç£åŒ—æ–¹'
            },
            {
                type: 'choice',
                text: 'æ‰€è¬‚ã€Œç¬¬ä¸€å³¶éˆã€ä¸­ï¼Œå°ç£ä½æ–¼å“ªå…©åœ‹ä¹‹é–“ï¼Ÿ',
                options: ['A. ä¸­åœ‹ã€æ—¥æœ¬', 'B. æ—¥æœ¬ã€è²å¾‹è³“', 'C. æ—¥æœ¬ã€éŸ“åœ‹', 'D. ä¸­åœ‹ã€éŸ“åœ‹'],
                answer: 'B',
                hint: 'å°ç£å—åŒ—å…©å´åˆ†åˆ¥æ˜¯å“ªå…©å€‹å³¶åœ‹'
            },
            {
                type: 'choice',
                text: 'è²¨èˆ¹å¾é«˜é›„æ¸¯å‡ºç™¼å‰å¾€æ–°åŠ å¡ï¼Œå¿…ç¶“å“ªå€‹æµ·åŸŸèˆ‡æµ·å³½ï¼Ÿ',
                options: ['A. æ±æµ·ã€å°ç£æµ·å³½', 'B. å¤ªå¹³æ´‹ã€å·´å£«æµ·å³½', 'C. å—æµ·ã€å·´å£«æµ·å³½', 'D. å—æµ·ã€éº»å…­ç”²æµ·å³½'],
                answer: 'D',
                hint: 'å…¨çƒæœ€ç¹å¿™çš„æµ·ä¸Šé€šé“ä¹‹ä¸€'
            },
            {
                type: 'drag',
                text: 'å°‡å°ç£å‘¨é­æµ·åŸŸåç¨±æ‹–æ›³åˆ°æ­£ç¢ºçš„ä½ç½®ï¼š',
                dragItems: ['å·´å£«æµ·å³½', 'å°ç£æµ·å³½', 'æ±æµ·'],
                dropZones: ['åŒ—', 'å—', 'è¥¿'],
                answers: {
                    'æ±æµ·': 'åŒ—',
                    'å·´å£«æµ·å³½': 'å—',
                    'å°ç£æµ·å³½': 'è¥¿'
                },
                hint: 'çœ‹çœ‹æ—é‚Šåœ–ç‰‡çš„æ±å—è¥¿åŒ—ï¼Œå†æƒ³æƒ³!'
            }
        ];

        let currentQuestion = 0;

        function loadQuestion() {
            const q = questions[currentQuestion];
            document.getElementById('question-number').innerText = `å•é¡Œ ${currentQuestion + 1} / ${questions.length}`;
            document.getElementById('question-text').innerText = q.text;

            const choicesDiv = document.getElementById('choices');
            const dragDiv = document.getElementById('drag-question');

            if (q.type === 'choice') {
                dragDiv.classList.add('hidden');
                choicesDiv.classList.remove('hidden');
                choicesDiv.innerHTML = '';
                q.options.forEach(option => {
                    const btn = document.createElement('button');
                    btn.innerText = option;
                    btn.onclick = () => checkChoice(option.charAt(0));
                    btn.className = 'choice-btn';
                    choicesDiv.appendChild(btn);
                });
            } else if (q.type === 'drag') {
                choicesDiv.classList.add('hidden');
                dragDiv.classList.remove('hidden');
                const dragContainer = document.getElementById('drag-items');
                const dropContainer = document.getElementById('drop-zones');
                dragContainer.innerHTML = '';
                dropContainer.innerHTML = '';

                // å»ºç«‹æ‹–æ›³é …ç›®
                q.dragItems.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'draggable';
                    div.draggable = true;
                    div.id = 'drag-' + item;
                    div.innerText = item;
                    div.addEventListener('dragstart', dragStart);
                    dragContainer.appendChild(div);
                });

                // å»ºç«‹æ”¾ç½®å€
                q.dropZones.forEach(zone => {
                    const div = document.createElement('div');
                    div.className = 'drop-zone';
                    div.id = 'drop-' + zone;
                    div.addEventListener('dragover', dragOver);
                    div.addEventListener('drop', drop);
                    div.innerText = zone;
                    dropContainer.appendChild(div);
                });
            }
        }

        // ===== æ‹–æ›³äº‹ä»¶ =====
        let draggedItem = null;

        function dragStart(e) {
            draggedItem = e.target.id;
        }

        function dragOver(e) {
            e.preventDefault();
        }

        function drop(e) {
            e.preventDefault();
            const dropId = e.target.id;
            const itemName = draggedItem.replace('drag-', '');
            const dropZoneName = dropId.replace('drop-', '');
            const q = questions[currentQuestion];

            if (q.answers[itemName] === dropZoneName) {
                e.target.innerText = itemName;
                document.getElementById(draggedItem).style.display = 'none';

                // æª¢æŸ¥æ˜¯å¦å…¨éƒ¨å®Œæˆ
                let allDone = q.dragItems.every(it => {
                    const dz = q.answers[it];
                    return document.getElementById('drop-' + dz).innerText === it;
                });

                if (allDone) {
                    alert('ç­”å°äº†ï¼é€²å…¥ä¸‹ä¸€é¡Œ');
                    nextQuestion();
                }
            } else {
                alert('ç­”éŒ¯äº†ï¼\n\næç¤ºï¼š' + q.hint);
            }
        }


        // ===== é¸æ“‡é¡Œæª¢æŸ¥ =====
        function checkChoice(ans) {
            const q = questions[currentQuestion];
            if (ans === q.answer) {
                alert('ç­”å°äº†ï¼');
                nextQuestion();
            } else {
                alert('ç­”éŒ¯äº†ï¼\n\n' + q.hint);
            }
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < questions.length) {
                loadQuestion();
            } else {
                alert('æ­å–œå®Œæˆæ‰€æœ‰é¡Œç›®ï¼');
                location.href = 'unit.html';
            }
        }

        // åˆå§‹è¼‰å…¥
        loadQuestion();
    </script>
</body>

</html>